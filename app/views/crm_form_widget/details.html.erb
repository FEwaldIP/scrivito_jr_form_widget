<ul class="tab-list">
  <li class="active" data-panel-target="#edit-general">General</li>
  <li data-panel-target="#edit-tags">Tags</li>
  <li data-panel-target="#edit-activity">Activity</li>
  <li data-panel-target="#edit-event">Event</li>
</ul>

<div class="tab-panels">
  <div class="tab-panel" id="edit-general">
    <%= scrivito_details_for 'Subject' do %>
      <%= scrivito_tag :div, widget, :subject %>
    <% end %>
    <%= scrivito_details_for 'Redirect after submit' do %>
      <%= scrivito_tag :div, widget, :redirect_to %>
    <% end %>

    <%= scrivito_details_for 'Text on submitbutton' do %>
      <%= scrivito_tag :div, widget, :submit_button_text %>
    <% end %>
  </div>

  <div class="tab-panel" id="edit-tags">
    <%= scrivito_details_for 'Tags for Contact' do %>
      <div class="alert alert-info">
        optional attribute. can be used to add tags to a contact like has_visited_event. contatc will be calculated by the custom attributes email and last_name of your selected activtiy. If this fields do not exist, this field has no effect." class="initialism">
      </div>
      <%= scrivito_tag :div, widget, :tags, data: {editor: 'scrivito-list-editor'} %>
    <% end %>
  </div>

  <div class="tab-panel" id="edit-activity">
    <%= scrivito_details_for 'Activity' do %>
      <%= scrivito_toggle_button_editor widget, :activity_id, CrmFormWidget.activities.map { |a| a.id } %>
    <% end %>
  </div>

  <div class="tab-panel" id="edit-event">
    <%= scrivito_details_for 'Event' do %>
      <%= scrivito_toggle_button_editor(widget, :event_id, CrmFormWidget.events) do |event| %>
        <%= scrivito_tag(:button, widget, :event_id, data: {editor: 'scrivito-toggle-button', content: event.id}) do %>
          <%= event.title %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>

